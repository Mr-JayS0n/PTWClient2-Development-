{"ast":null,"code":"import _asyncToGenerator from \"C:/Users/Phang Jay Sern/Downloads/permit-to-work/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport { SignalRHubServiceService } from 'src/Service/signal-rhub-service.service';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"src/Service/signal-rhub-service.service\";\nexport class ForminfoComponent {\n  constructor(id, name, selectedPermitType, isWorkAtHeight, selectedLocationOfWork, startDate, endDate, signalrhubservice) {\n    this.signalrhubservice = signalrhubservice;\n    this.id = id;\n    this.name = name;\n    this.selectedPermitType = selectedPermitType;\n    this.isWorkAtHeight = isWorkAtHeight;\n    this.selectedLocationOfWork = selectedLocationOfWork;\n    this.startDate = startDate;\n    this.endDate = endDate;\n  } //This type is not supported as injection token.\n\n\n  receiveDataFromServer(id) {\n    var _this = this;\n\n    return _asyncToGenerator(function* () {\n      var _a;\n\n      yield (_a = _this.signalrhubservice) === null || _a === void 0 ? void 0 : _a.hubConnection.invoke(\"sendDataFrmServer\", id).finally(() => {\n        console.log(\"Calling sendDataFrmServer() from server\");\n      }).catch(err => console.error(err));\n    })();\n  }\n\n  listenDataFromServer() {\n    var _this2 = this;\n\n    return _asyncToGenerator(function* () {\n      var _a;\n\n      yield (_a = _this2.signalrhubservice) === null || _a === void 0 ? void 0 : _a.hubConnection.on(\"responseDataFrmServer\", formInfo => {\n        _this2.id = formInfo.id;\n        _this2.name = formInfo.name;\n        _this2.selectedPermitType = formInfo.selectedPermitType;\n        _this2.isWorkAtHeight = formInfo.isWorkAtHeight;\n        _this2.selectedLocationOfWork = formInfo.selectedLocationOfWork;\n        _this2.startDate = formInfo.startDate;\n        _this2.endDate = formInfo.endDate;\n      }).then(result => {\n        console.log(result);\n        let forminfo = new ForminfoComponent();\n        forminfo = result;\n      }); //call getFormInfo if this console.log has no issue.\n    })();\n  }\n\n  getFormInfo(id) {\n    let formValue;\n    return formValue;\n  }\n\n  sendDataFromClient(formInfo) {\n    var _this3 = this;\n\n    return _asyncToGenerator(function* () {\n      var _a;\n\n      yield (_a = _this3.signalrhubservice) === null || _a === void 0 ? void 0 : _a.hubConnection.invoke(\"receiveDataFrmServer\", formInfo).finally(() => {\n        console.log(\"Calling receiveDataFrmServer()from server\");\n      }).then(() => {\n        console.log(\"successfully called receiveDataFrmServer()\");\n      }).catch(err => console.error(err));\n    })();\n  }\n\n  setFormInfo(input) {\n    let formValue;\n    return formValue = input;\n  }\n\n}\n\nForminfoComponent.ɵfac = function ForminfoComponent_Factory(t) {\n  return new (t || ForminfoComponent)(i0.ɵɵdirectiveInject(String), i0.ɵɵdirectiveInject(String), i0.ɵɵdirectiveInject(String), i0.ɵɵdirectiveInject(String), i0.ɵɵdirectiveInject(String), i0.ɵɵdirectiveInject(Date), i0.ɵɵdirectiveInject(Date), i0.ɵɵdirectiveInject(SignalRHubServiceService));\n};\n\nForminfoComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: ForminfoComponent,\n  selectors: [[\"app-forminfo\"]],\n  decls: 2,\n  vars: 0,\n  template: function ForminfoComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"p\");\n      i0.ɵɵtext(1, \"forminfo works!\");\n      i0.ɵɵelementEnd();\n    }\n  },\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJmb3JtaW5mby5jb21wb25lbnQuc2NzcyJ9 */\"]\n});","map":{"version":3,"sources":["C:/Users/Phang Jay Sern/Downloads/permit-to-work/src/app/forminfo/forminfo.component.ts"],"names":["SignalRHubServiceService","i0","i1","ForminfoComponent","constructor","id","name","selectedPermitType","isWorkAtHeight","selectedLocationOfWork","startDate","endDate","signalrhubservice","receiveDataFromServer","_a","hubConnection","invoke","finally","console","log","catch","err","error","listenDataFromServer","on","formInfo","then","result","forminfo","getFormInfo","formValue","sendDataFromClient","setFormInfo","input","ɵfac","ForminfoComponent_Factory","t","ɵɵdirectiveInject","String","Date","ɵcmp","ɵɵdefineComponent","type","selectors","decls","vars","template","ForminfoComponent_Template","rf","ctx","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","styles"],"mappings":"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","sourcesContent":["import { SignalRHubServiceService } from 'src/Service/signal-rhub-service.service';\r\nimport * as i0 from \"@angular/core\";\r\nimport * as i1 from \"src/Service/signal-rhub-service.service\";\r\nexport class ForminfoComponent {\r\n    constructor(id, name, selectedPermitType, isWorkAtHeight, selectedLocationOfWork, startDate, endDate, signalrhubservice) {\r\n        this.signalrhubservice = signalrhubservice;\r\n        this.id = id;\r\n        this.name = name;\r\n        this.selectedPermitType = selectedPermitType;\r\n        this.isWorkAtHeight = isWorkAtHeight;\r\n        this.selectedLocationOfWork = selectedLocationOfWork;\r\n        this.startDate = startDate;\r\n        this.endDate = endDate;\r\n    }\r\n    //This type is not supported as injection token.\r\n    async receiveDataFromServer(id) {\r\n        var _a;\r\n        await ((_a = this.signalrhubservice) === null || _a === void 0 ? void 0 : _a.hubConnection.invoke(\"sendDataFrmServer\", id).finally(() => {\r\n            console.log(\"Calling sendDataFrmServer() from server\");\r\n        }).catch((err) => console.error(err)));\r\n    }\r\n    async listenDataFromServer() {\r\n        var _a;\r\n        await ((_a = this.signalrhubservice) === null || _a === void 0 ? void 0 : _a.hubConnection.on(\"responseDataFrmServer\", (formInfo) => {\r\n            this.id = formInfo.id;\r\n            this.name = formInfo.name;\r\n            this.selectedPermitType = formInfo.selectedPermitType;\r\n            this.isWorkAtHeight = formInfo.isWorkAtHeight;\r\n            this.selectedLocationOfWork = formInfo.selectedLocationOfWork;\r\n            this.startDate = formInfo.startDate;\r\n            this.endDate = formInfo.endDate;\r\n        }).then((result) => {\r\n            console.log(result);\r\n            let forminfo = new ForminfoComponent();\r\n            forminfo = result;\r\n        })); //call getFormInfo if this console.log has no issue.\r\n    }\r\n    getFormInfo(id) {\r\n        let formValue;\r\n        return formValue;\r\n    }\r\n    async sendDataFromClient(formInfo) {\r\n        var _a;\r\n        await ((_a = this.signalrhubservice) === null || _a === void 0 ? void 0 : _a.hubConnection.invoke(\"receiveDataFrmServer\", formInfo).finally(() => {\r\n            console.log(\"Calling receiveDataFrmServer()from server\");\r\n        }).then(() => { console.log(\"successfully called receiveDataFrmServer()\"); }).catch((err) => console.error(err)));\r\n    }\r\n    setFormInfo(input) {\r\n        let formValue;\r\n        return formValue = input;\r\n    }\r\n}\r\nForminfoComponent.ɵfac = function ForminfoComponent_Factory(t) { return new (t || ForminfoComponent)(i0.ɵɵdirectiveInject(String), i0.ɵɵdirectiveInject(String), i0.ɵɵdirectiveInject(String), i0.ɵɵdirectiveInject(String), i0.ɵɵdirectiveInject(String), i0.ɵɵdirectiveInject(Date), i0.ɵɵdirectiveInject(Date), i0.ɵɵdirectiveInject(SignalRHubServiceService)); };\r\nForminfoComponent.ɵcmp = /*@__PURE__*/ i0.ɵɵdefineComponent({ type: ForminfoComponent, selectors: [[\"app-forminfo\"]], decls: 2, vars: 0, template: function ForminfoComponent_Template(rf, ctx) { if (rf & 1) {\r\n        i0.ɵɵelementStart(0, \"p\");\r\n        i0.ɵɵtext(1, \"forminfo works!\");\r\n        i0.ɵɵelementEnd();\r\n    } }, styles: [\"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJmb3JtaW5mby5jb21wb25lbnQuc2NzcyJ9 */\"] });\r\n"]},"metadata":{},"sourceType":"module"}